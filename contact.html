<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact & Support - Berfis Cafe</title>
    
    <!-- Alpine.js Plugins -->
    <script defer src="https://cdn.jsdelivr.net/npm/@alpinejs/intersect@3.x.x/dist/cdn.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/@alpinejs/collapse@3.x.x/dist/cdn.min.js"></script>
    
    <!-- Alpine.js Core -->
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="icon" href="Berfis.jpeg" type="image/jpeg">
    <link rel="apple-touch-icon" href="Berfis.jpeg">
    <link rel="manifest" href="manifest.webmanifest">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="">
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    
    <style>
        body { font-family: 'Inter', sans-serif; }
        [x-cloak] { display: none !important; }
        .hide-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .hide-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        
        /* Animations */
        @keyframes fadeUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .animate-fade-up {
            animation: fadeUp 0.8s ease-out forwards;
            opacity: 0; /* Start hidden */
        }
        
        .delay-100 { animation-delay: 0.1s; }
        .delay-200 { animation-delay: 0.2s; }
        .delay-300 { animation-delay: 0.3s; }
        .delay-500 { animation-delay: 0.5s; }
    </style>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        brand: {
                            50: '#fdf8f6',
                            100: '#f2e8e5',
                            500: '#ff6b00', /* Warm orange */
                            600: '#e65100',
                            900: '#1a1a1a',
                        },
                        accent: {
                            500: '#10b981', /* Green for actions */
                            600: '#059669',
                        }
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gray-50 text-gray-900 antialiased" x-data="shop()">

    <!-- Header -->
    <header class="fixed top-0 w-full bg-white shadow-sm z-40 transition-all duration-300">
        <div class="max-w-[95%] md:max-w-[90%] 2xl:max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8 h-16 md:h-20 flex items-center justify-between">
            
            <a href="index.html" class="flex items-center gap-2 md:gap-3">
                <img src="Berfis.jpeg" alt="Berfis Cafe logo" class="w-12 h-12 md:w-14 md:h-14 rounded-full object-cover">
                <h1 class="text-xl md:text-2xl font-bold tracking-tight text-gray-900">Berfis Cafe</h1>
            </a>

            <div class="flex items-center gap-3">
                <button @click="isCartOpen = true" class="relative p-2 md:p-3 rounded-full hover:bg-gray-100 transition-colors">
                    <i data-lucide="shopping-bag" class="w-6 h-6 md:w-7 md:h-7 text-gray-700"></i>
                    <span x-show="cartCount > 0" x-transition.scale
                          class="absolute top-0 right-0 inline-flex items-center justify-center px-2 py-0.5 md:px-2.5 md:py-1 text-xs font-bold leading-none text-white transform translate-x-1/4 -translate-y-1/4 bg-brand-500 rounded-full"
                          x-text="cartCount"></span>
                </button>

                <!-- Mobile & Desktop Menu Button -->
                <button @click="isMenuOpen = true" class="p-2 -mr-2 text-gray-700 hover:bg-gray-100 rounded-full">
                    <i data-lucide="menu" class="w-6 h-6 md:w-7 md:h-7"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Menu Sidebar -->
    <div x-show="isMenuOpen" class="relative z-50" role="dialog" aria-modal="true" x-cloak>
        <div x-show="isMenuOpen" 
             x-transition:enter="transition-opacity ease-linear duration-300" 
             x-transition:enter-start="opacity-0" 
             x-transition:enter-end="opacity-100" 
             x-transition:leave="transition-opacity ease-linear duration-300" 
             x-transition:leave-start="opacity-100" 
             x-transition:leave-end="opacity-0" 
             class="fixed inset-0 bg-gray-900/80 backdrop-blur-sm" 
             @click="isMenuOpen = false"></div>

        <div class="fixed inset-0 flex justify-end">
            <div x-show="isMenuOpen" 
                 x-transition:enter="transition ease-in-out duration-300 transform" 
                 x-transition:enter-start="translate-x-full" 
                 x-transition:enter-end="translate-x-0" 
                 x-transition:leave="transition ease-in-out duration-300 transform" 
                 x-transition:leave-start="translate-x-0" 
                 x-transition:leave-end="translate-x-full" 
                 class="relative ml-16 flex w-full max-w-xs flex-1">
                
                <div class="flex w-full flex-col bg-white pb-12 shadow-xl h-full">
                    <div class="flex px-4 pt-5 pb-2 justify-between items-center border-b border-gray-100">
                        <div class="flex items-center gap-2">
                            <img src="Berfis.jpeg" alt="Berfis Cafe logo" class="w-6 h-6 rounded-full object-cover">
                            <span class="text-xl font-bold">Berfis Cafe</span>
                        </div>
                        <button type="button" @click="isMenuOpen = false" class="-mr-2 inline-flex items-center justify-center rounded-md p-2 text-gray-400 hover:bg-gray-100 hover:text-gray-500">
                            <span class="sr-only">Close menu</span>
                            <i data-lucide="x" class="w-6 h-6"></i>
                        </button>
                    </div>
                    
                    <div class="mt-5 px-4 h-full flex flex-col">
                        <nav class="space-y-2">
                            <a href="index.html" class="flex items-center gap-3 rounded-md px-3 py-3 text-base font-medium text-gray-900 hover:bg-gray-50">
                                <i data-lucide="home" class="w-5 h-5 text-gray-500"></i>
                                Home
                            </a>
                            
                            <a href="about.html" class="flex items-center gap-3 rounded-md px-3 py-3 text-base font-medium text-gray-900 hover:bg-gray-50">
                                <i data-lucide="info" class="w-5 h-5 text-gray-500"></i>
                                About Us
                            </a>
                            
                            <div class="pt-4 pb-2">
                                <p class="px-3 text-xs font-semibold text-gray-500 uppercase tracking-wider">Menu Categories</p>
                            </div>
                            
                            <template x-for="cat in categories" :key="cat">
                                <a href="index.html" @click="localStorage.setItem('targetCategory', cat)"
                                        class="w-full flex items-center gap-3 rounded-md px-3 py-3 text-base font-medium text-gray-900 hover:bg-gray-50 transition-colors">
                                    <i data-lucide="chef-hat" class="w-5 h-5 text-gray-400"></i>
                                    <span x-text="cat"></span>
                                </a>
                            </template>

                            <div class="pt-4 pb-2 border-t border-gray-100 mt-4">
                                <a href="contact.html" class="flex items-center gap-3 rounded-md px-3 py-3 text-base font-medium text-brand-600 bg-brand-50">
                                    <i data-lucide="phone" class="w-5 h-5 text-brand-500"></i>
                                    Contact & Support
                                </a>
                            </div>
                        </nav>
                        
                        <div class="mt-auto pb-6">
                            <div class="rounded-xl bg-orange-50 p-4">
                                <div class="flex items-start">
                                    <div class="flex-shrink-0">
                                        <i data-lucide="info" class="h-5 w-5 text-brand-500"></i>
                                    </div>
                                    <div class="ml-3">
                                        <h3 class="text-sm font-medium text-brand-800">Pre-Orders Only</h3>
                                        <div class="mt-1 text-sm text-brand-700">
                                            <p>Remember to order 24-48 hours in advance!</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Contact Hero -->
    <div class="relative pt-20 md:pt-24 pb-12 bg-gray-900 text-white min-h-[300px] flex items-center justify-center">
        <div class="absolute inset-0 z-0 opacity-40">
            <img class="w-full h-full object-cover" src="https://images.unsplash.com/photo-1596524430615-b46475ddff6e?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80" alt="Contact us">
        </div>
        <div class="relative z-10 max-w-[95%] md:max-w-[90%] 2xl:max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h1 class="text-4xl md:text-6xl font-bold mb-4 animate-fade-up">Get in Touch</h1>
            <p class="text-xl md:text-2xl text-gray-200 max-w-2xl mx-auto animate-fade-up delay-200">Questions? Special requests? We're here to help.</p>
        </div>
    </div>

    <!-- Main Content -->
    <main class="max-w-[95%] md:max-w-[90%] 2xl:max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8 py-12 md:py-20">
        
        <div class="grid lg:grid-cols-2 gap-12 mb-20">
            
            <!-- Contact Info -->
            <div class="space-y-8 animate-fade-up delay-300">
                <div>
                    <h2 class="text-3xl font-bold text-gray-900 mb-6">Contact Information</h2>
                    <p class="text-gray-600 text-lg mb-8">Reach out to us directly or fill out the form. We respond fastest via WhatsApp.</p>
                </div>

                <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-start gap-4">
                    <div class="bg-brand-100 p-3 rounded-full text-brand-600">
                        <i data-lucide="phone" class="w-6 h-6"></i>
                    </div>
                    <div>
                        <h3 class="text-lg font-bold text-gray-900 mb-1">WhatsApp & Phone</h3>
                        <p class="text-gray-600 mb-2">For quick orders and inquiries.</p>
                        <a href="https://wa.me/233502518401" class="text-brand-600 font-semibold hover:underline">+233 50 251 8401</a>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-start gap-4">
                    <div class="bg-brand-100 p-3 rounded-full text-brand-600">
                        <i data-lucide="mail" class="w-6 h-6"></i>
                    </div>
                    <div>
                        <h3 class="text-lg font-bold text-gray-900 mb-1">Email</h3>
                        <p class="text-gray-600 mb-2">For catering proposals and feedback.</p>
                        <a href="mailto:hello@berfiscafe.com" class="text-brand-600 font-semibold hover:underline">hello@berfiscafe.com</a>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex items-start gap-4">
                    <div class="bg-brand-100 p-3 rounded-full text-brand-600">
                        <i data-lucide="map-pin" class="w-6 h-6"></i>
                    </div>
                    <div>
                        <h3 class="text-lg font-bold text-gray-900 mb-1">Location</h3>
                        <p class="text-gray-600">Accra, Ghana</p>
                        <p class="text-sm text-gray-500 mt-1">Delivery service only. No dine-in available.</p>
                    </div>
                </div>
            </div>

            <!-- Contact Form -->
            <div class="bg-white p-8 md:p-10 rounded-3xl shadow-lg border border-gray-100 animate-fade-up delay-200">
                <h2 class="text-2xl font-bold text-gray-900 mb-6">Send us a Message</h2>
                <form action="https://formsubmit.co/REPLACE_WITH_REAL_GMAIL@gmail.com" method="POST" class="space-y-6">
                    <input type="hidden" name="_subject" value="New Contact Message from Berfis Cafe">
                    <input type="hidden" name="_captcha" value="false">
                    <input type="text" name="_honey" style="display:none">

                    <div>
                        <label for="name" class="block text-sm font-medium text-gray-700 mb-1">Your Name</label>
                        <input type="text" name="name" id="name" required class="w-full rounded-xl border-gray-300 shadow-sm focus:border-brand-500 focus:ring-brand-500 p-3 border">
                    </div>

                    <div>
                        <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email Address</label>
                        <input type="email" name="email" id="email" required class="w-full rounded-xl border-gray-300 shadow-sm focus:border-brand-500 focus:ring-brand-500 p-3 border">
                    </div>

                    <div>
                        <label for="message" class="block text-sm font-medium text-gray-700 mb-1">Message</label>
                        <textarea name="message" id="message" rows="4" required class="w-full rounded-xl border-gray-300 shadow-sm focus:border-brand-500 focus:ring-brand-500 p-3 border"></textarea>
                    </div>

                    <button type="submit" class="w-full bg-gray-900 text-white font-bold py-4 rounded-xl hover:bg-brand-600 transition-colors shadow-md">
                        Send Message
                    </button>
                </form>
            </div>
        </div>

        <!-- FAQ Section -->
        <div class="max-w-3xl mx-auto">
            <h2 class="text-3xl font-bold text-gray-900 mb-8 text-center">Frequently Asked Questions</h2>
            
            <div class="space-y-4">
                <!-- FAQ Item 1 -->
                <div x-data="{ expanded: false }" class="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
                    <button @click="expanded = !expanded" class="w-full px-6 py-4 text-left flex justify-between items-center bg-white hover:bg-gray-50 transition-colors">
                        <span class="font-bold text-gray-900">How far in advance should I order?</span>
                        <i data-lucide="chevron-down" class="w-5 h-5 text-gray-500 transition-transform duration-200" :class="expanded ? 'rotate-180' : ''"></i>
                    </button>
                    <div x-show="expanded" x-collapse>
                        <div class="px-6 pb-4 text-gray-600 border-t border-gray-50 pt-4">
                            We require at least 24 hours notice for standard breakfast orders and 48 hours for larger catering or gift basket orders. This ensures we can source the freshest ingredients for you.
                        </div>
                    </div>
                </div>

                <!-- FAQ Item 2 -->
                <div x-data="{ expanded: false }" class="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
                    <button @click="expanded = !expanded" class="w-full px-6 py-4 text-left flex justify-between items-center bg-white hover:bg-gray-50 transition-colors">
                        <span class="font-bold text-gray-900">Do you offer same-day delivery?</span>
                        <i data-lucide="chevron-down" class="w-5 h-5 text-gray-500 transition-transform duration-200" :class="expanded ? 'rotate-180' : ''"></i>
                    </button>
                    <div x-show="expanded" x-collapse>
                        <div class="px-6 pb-4 text-gray-600 border-t border-gray-50 pt-4">
                            Generally, no. We are a pre-order only service to guarantee quality. However, you can contact us via WhatsApp to check if we have any slots available for urgent requests, but availability is not guaranteed.
                        </div>
                    </div>
                </div>

                <!-- FAQ Item 3 -->
                <div x-data="{ expanded: false }" class="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
                    <button @click="expanded = !expanded" class="w-full px-6 py-4 text-left flex justify-between items-center bg-white hover:bg-gray-50 transition-colors">
                        <span class="font-bold text-gray-900">Where do you deliver?</span>
                        <i data-lucide="chevron-down" class="w-5 h-5 text-gray-500 transition-transform duration-200" :class="expanded ? 'rotate-180' : ''"></i>
                    </button>
                    <div x-show="expanded" x-collapse>
                        <div class="px-6 pb-4 text-gray-600 border-t border-gray-50 pt-4">
                            We deliver throughout Accra and its immediate surroundings. Delivery fees are calculated based on your distance from our kitchen.
                        </div>
                    </div>
                </div>

                <!-- FAQ Item 4 -->
                <div x-data="{ expanded: false }" class="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
                    <button @click="expanded = !expanded" class="w-full px-6 py-4 text-left flex justify-between items-center bg-white hover:bg-gray-50 transition-colors">
                        <span class="font-bold text-gray-900">Do you cater for events?</span>
                        <i data-lucide="chevron-down" class="w-5 h-5 text-gray-500 transition-transform duration-200" :class="expanded ? 'rotate-180' : ''"></i>
                    </button>
                    <div x-show="expanded" x-collapse>
                        <div class="px-6 pb-4 text-gray-600 border-t border-gray-50 pt-4">
                            Yes! We cater for office meetings, small parties, and family gatherings. Please check our "Catering" menu category or contact us directly for custom packages.
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <!-- Cart Sidebar -->
    <div x-show="isCartOpen" class="relative z-50" aria-labelledby="slide-over-title" role="dialog" aria-modal="true" x-cloak>
        <!-- Backdrop -->
        <div x-show="isCartOpen" 
             x-transition:enter="ease-in-out duration-500" 
             x-transition:enter-start="opacity-0" 
             x-transition:enter-end="opacity-100" 
             x-transition:leave="ease-in-out duration-500" 
             x-transition:leave-start="opacity-100" 
             x-transition:leave-end="opacity-0" 
             class="fixed inset-0 bg-gray-900/50 backdrop-blur-sm transition-opacity" 
             @click="isCartOpen = false"></div>

        <div class="fixed inset-0 overflow-hidden">
            <div class="absolute inset-0 overflow-hidden">
                <div class="pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-10">
                    
                    <div x-show="isCartOpen" 
                         x-transition:enter="transform transition ease-in-out duration-500 sm:duration-700" 
                         x-transition:enter-start="translate-x-full" 
                         x-transition:enter-end="translate-x-0" 
                         x-transition:leave="transform transition ease-in-out duration-500 sm:duration-700" 
                         x-transition:leave-start="translate-x-0" 
                         x-transition:leave-end="translate-x-full" 
                         class="pointer-events-auto w-screen max-w-md">
                        
                        <div class="flex h-full flex-col overflow-y-scroll bg-white shadow-xl">
                            <div class="flex-1 overflow-y-auto px-4 py-6 sm:px-6">
                                <div class="flex items-start justify-between">
                                    <h2 class="text-lg font-bold text-gray-900" id="slide-over-title">Your Order</h2>
                                    <div class="ml-3 flex h-7 items-center">
                                        <button type="button" @click="isCartOpen = false" class="-m-2 p-2 text-gray-400 hover:text-gray-500">
                                            <span class="sr-only">Close panel</span>
                                            <i data-lucide="x" class="w-6 h-6"></i>
                                        </button>
                                    </div>
                                </div>

                                <div class="mt-8">
                                    <div class="flow-root">
                                        <ul role="list" class="-my-6 divide-y divide-gray-200">
                                            
                                            <template x-for="item in cart" :key="item.id">
                                                <li class="flex py-6">
                                                    <div class="h-20 w-20 flex-shrink-0 overflow-hidden rounded-md border border-gray-200">
                                                        <img :src="item.image" :alt="item.name" class="h-full w-full object-cover object-center">
                                                    </div>

                                                    <div class="ml-4 flex flex-1 flex-col">
                                                        <div>
                                                            <div class="flex justify-between text-base font-medium text-gray-900">
                                                                <h3 x-text="item.name"></h3>
                                                                <p class="ml-4 whitespace-nowrap">GHS <span x-text="item.price * item.quantity"></span></p>
                                                            </div>
                                                            <p class="mt-1 text-sm text-gray-500" x-text="item.category"></p>
                                                        </div>
                                                        <div class="flex flex-1 items-end justify-between text-sm">
                                                            
                                                            <div class="flex items-center border border-gray-300 rounded-md">
                                                                <button @click="updateQuantity(item.id, -1)" class="px-2 py-1 text-gray-600 hover:bg-gray-100 hover:text-gray-900 transition-colors">-</button>
                                                                <span class="px-2 font-medium text-gray-900" x-text="item.quantity"></span>
                                                                <button @click="updateQuantity(item.id, 1)" class="px-2 py-1 text-gray-600 hover:bg-gray-100 hover:text-gray-900 transition-colors">+</button>
                                                            </div>

                                                            <button @click="removeFromCart(item.id)" type="button" class="font-medium text-red-500 hover:text-red-600 flex items-center gap-1">
                                                                <i data-lucide="trash-2" class="w-4 h-4"></i> Remove
                                                            </button>
                                                        </div>
                                                    </div>
                                                </li>
                                            </template>
                                            
                                            <li x-show="cart.length === 0" class="py-12 text-center text-gray-500">
                                                <i data-lucide="shopping-basket" class="w-12 h-12 mx-auto mb-3 text-gray-300"></i>
                                                <p>Your cart is empty.</p>
                                                <button @click="isCartOpen = false" class="mt-4 text-brand-500 font-medium hover:underline">Start Ordering</button>
                                            </li>

                                        </ul>
                                    </div>
                                </div>
                            </div>

                            <div class="border-t border-gray-200 px-4 py-6 sm:px-6 bg-gray-50">
                                <div class="flex justify-between text-base font-medium text-gray-900 mb-4">
                                    <p>Subtotal</p>
                                    <p>GHS <span x-text="cartTotal"></span></p>
                                </div>
                                <p class="mt-0.5 text-sm text-gray-500 mb-6">Delivery fees are calculated at checkout confirmation.</p>
                                <div class="mt-6">
                                    <button @click="openCheckout" 
                                            :disabled="cart.length === 0"
                                            :class="cart.length === 0 ? 'opacity-50 cursor-not-allowed' : 'hover:bg-brand-600'"
                                            class="w-full flex items-center justify-center rounded-md border border-transparent bg-brand-500 px-6 py-3 text-base font-medium text-white shadow-sm transition-colors">
                                        Proceed to Pre-Order
                                    </button>
                                </div>
                                <div class="mt-6 flex justify-center text-center text-sm text-gray-500">
                                    <p>
                                        or
                                        <button type="button" class="font-medium text-brand-500 hover:text-brand-600" @click="isCartOpen = false">
                                            Continue Shopping
                                            <span aria-hidden="true"> &rarr;</span>
                                        </button>
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Checkout Modal -->
    <div x-show="isCheckoutOpen" class="relative z-50" aria-labelledby="modal-title" role="dialog" aria-modal="true" x-cloak>
        <div class="fixed inset-0 bg-gray-900/75 backdrop-blur-sm transition-opacity" 
             x-transition:enter="ease-out duration-300" x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100"
             x-transition:leave="ease-in duration-200" x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0"></div>

        <div class="fixed inset-0 z-10 overflow-y-auto">
            <div class="flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0">
                <div class="relative transform overflow-hidden rounded-2xl bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg"
                     x-transition:enter="ease-out duration-300" x-transition:enter-start="opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95" x-transition:enter-end="opacity-100 translate-y-0 sm:scale-100"
                     x-transition:leave="ease-in duration-200" x-transition:leave-start="opacity-100 translate-y-0 sm:scale-100" x-transition:leave-end="opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95">
                    
                    <div class="bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4">
                        <div class="sm:flex sm:items-start">
                            <div class="mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left w-full">
                                <div class="flex justify-between items-center mb-4">
                                    <h3 class="text-xl font-bold leading-6 text-gray-900" id="modal-title">Complete Your Pre-Order</h3>
                                    <button @click="isCheckoutOpen = false" class="text-gray-400 hover:text-gray-500">
                                        <i data-lucide="x" class="w-6 h-6"></i>
                                    </button>
                                </div>
                                
                                <form @submit.prevent="submitOrder" class="space-y-4">

                                    <!-- Summary of items visible to user -->
                                    <div class="bg-gray-50 p-3 rounded-lg mb-4 text-sm text-gray-600 border border-gray-100">
                                        <p class="font-semibold mb-1">Order Summary:</p>
                                        <ul class="list-disc pl-4 space-y-1">
                                            <template x-for="item in cart" :key="item.id">
                                                <li>
                                                    <span x-text="item.name"></span> x <span x-text="item.quantity"></span> 
                                                    (GHS <span x-text="item.price * item.quantity"></span>)
                                                </li>
                                            </template>
                                        </ul>
                                        <p class="mt-2 font-bold text-gray-900 pt-2 border-t border-gray-200">Total: GHS <span x-text="cartTotal"></span></p>
                                    </div>

                                    <div>
                                        <label for="name" class="block text-sm font-medium text-gray-700">Full Name *</label>
                                        <input type="text" name="Name" id="name" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-brand-500 focus:ring-brand-500 sm:text-sm border p-2">
                                    </div>

                                    <div>
                                        <label for="whatsapp" class="block text-sm font-medium text-gray-700">WhatsApp Number *</label>
                                        <input type="tel" name="WhatsApp" id="whatsapp" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-brand-500 focus:ring-brand-500 sm:text-sm border p-2">
                                    </div>

                                    <div>
                                        <label for="date" class="block text-sm font-medium text-gray-700">Date Needed *</label>
                                        <input type="date" name="Date Needed" id="date" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-brand-500 focus:ring-brand-500 sm:text-sm border p-2">
                                    </div>



                                    <div>
                                        <label for="address-map" class="block text-sm font-medium text-gray-700">Delivery Location *</label>
                                        <div id="address-map" class="mt-1 w-full h-64 rounded-md border border-gray-300"></div>
                                        <input type="hidden" name="Address" id="address" required>
                                        <p class="mt-1 text-xs text-gray-500">Tap on the map to drop a pin for delivery.</p>
                                    </div>

                                    <div>
                                        <label for="notes" class="block text-sm font-medium text-gray-700">Special Requests / Allergies</label>
                                        <textarea name="Special Requests" id="notes" rows="2" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-brand-500 focus:ring-brand-500 sm:text-sm border p-2"></textarea>
                                    </div>

                                    <div class="mt-5 sm:mt-6">
                                        <button type="submit" 
                                                class="inline-flex w-full justify-center rounded-md border border-transparent bg-brand-500 px-4 py-3 text-base font-medium text-white shadow-sm hover:bg-brand-600 focus:outline-none focus:ring-2 focus:ring-brand-500 focus:ring-offset-2 sm:text-sm">
                                            Send Pre-Order Request
                                        </button>
                                        <p class="text-xs text-center text-gray-500 mt-2">We will confirm your order and delivery fee via WhatsApp shortly.</p>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Floating WhatsApp Button -->
    <a href="https://wa.me/233502518401" target="_blank" class="fixed bottom-6 right-6 z-40 bg-green-500 text-white p-4 rounded-full shadow-lg hover:bg-green-600 transition-transform hover:scale-110 flex items-center justify-center">
        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-message-circle"><path d="m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z"/></svg>
    </a>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12 mt-12">
        <div class="max-w-[90%] 2xl:max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col md:flex-row justify-between items-center gap-6">
                <div class="flex items-center gap-2">
                    <img src="Berfis.jpeg" alt="Berfis Cafe logo" class="w-6 h-6 rounded-full object-cover">
                    <span class="text-xl font-bold">Berfis Cafe</span>
                </div>
                <div class="text-gray-400 text-sm text-center md:text-right">
                    <p>&copy; 2026 Berfis Cafe. All rights reserved.</p>
                    <p class="mt-1">Accra, Ghana â€¢ Pre-orders & Delivery Only</p>
                </div>
            </div>
        </div>
    </footer>

    <script>
        function shop() {
            return {
                isCartOpen: false,
                isMenuOpen: false,
                isCheckoutOpen: false,
                map: null,
                mapMarker: null,
                activeCategory: 'Breakfast',
                categories: ['Breakfast', 'Baskets', 'Catering'],
                cart: JSON.parse(localStorage.getItem('cart')) || [],
                
                // Placeholder Data - Kept for structure but not displayed
                menu: [
                    { id: 1, name: 'The Full Ghanaian', price: 65, category: 'Breakfast', image: '', serves: '1 Person' }
                ],

                get filteredItems() {
                    return this.menu.filter(item => item.category === this.activeCategory);
                },

                get cartCount() {
                    return this.cart.reduce((total, item) => total + item.quantity, 0);
                },

                get cartTotal() {
                    return this.cart.reduce((total, item) => total + (item.price * item.quantity), 0);
                },
                
                get orderSummaryString() {
                    return this.cart.map(item => `${item.name} (x${item.quantity})`).join(', ');
                },

                submitOrder(event) {
                    const form = event.target;
                    const name = form.Name.value;
                    const whatsapp = form.WhatsApp.value;
                    const dateNeeded = form["Date Needed"].value;
                    const address = form.Address.value;
                    const mapsLink = address ? `https://www.google.com/maps?q=${address}` : "";
                    const special = form["Special Requests"].value;

                    const messageLines = [
                        "New order from Berfis Cafe website",
                        "",
                        `Name: ${name}`,
                        `Customer WhatsApp: ${whatsapp}`,
                        `Date Needed: ${dateNeeded}`,
                        `Address: ${mapsLink || address}`,
                        special ? `Special Requests: ${special}` : null,
                        "",
                        `Items: ${this.orderSummaryString}`,
                        `Total: GHS ${this.cartTotal}`
                    ].filter(Boolean);

                    const message = messageLines.join("\n");
                    const phone = "233544130026";
                    const url = `https://wa.me/${phone}?text=${encodeURIComponent(message)}`;

                    window.open(url, "_blank");
                    this.cart = [];
                    this.isCheckoutOpen = false;
                },

                addToCart(item) {
                    const existingItem = this.cart.find(i => i.id === item.id);
                    if (existingItem) {
                        existingItem.quantity++;
                    } else {
                        this.cart.push({ ...item, quantity: 1 });
                    }
                    // this.isCartOpen = true; // Removed per user request to keep cart closed on add
                },

                updateQuantity(id, change) {
                    const item = this.cart.find(i => i.id === id);
                    if (item) {
                        item.quantity += change;
                        if (item.quantity <= 0) {
                            this.removeFromCart(id);
                        }
                    }
                },

                removeFromCart(id) {
                    this.cart = this.cart.filter(item => item.id !== id);
                },
                
                openCheckout() {
                    this.isCartOpen = false;
                    this.isCheckoutOpen = true;
                },

                init() {
                    this.$watch('cart', (val) => {
                        localStorage.setItem('cart', JSON.stringify(val));
                    });

                    this.$watch('activeCategory', () => {
                        this.$nextTick(() => lucide.createIcons());
                    });
                    this.$watch('cart', () => {
                        this.$nextTick(() => lucide.createIcons());
                    });
                    this.$watch('isCheckoutOpen', (val) => {
                        if (val) {
                            this.$nextTick(() => {
                                var mapElement = document.getElementById('address-map');
                                if (!mapElement) return;
                                if (!this.map) {
                                    this.map = L.map(mapElement).setView([5.6037, -0.1870], 12);
                                    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                                        attribution: '&copy; OpenStreetMap contributors'
                                    }).addTo(this.map);
                                    var self = this;
                                    if (navigator.geolocation) {
                                        navigator.geolocation.getCurrentPosition(function (position) {
                                            var lat = position.coords.latitude;
                                            var lng = position.coords.longitude;
                                            self.map.setView([lat, lng], 16);
                                            var clickLatLng = L.latLng(lat, lng);
                                            if (self.mapMarker) {
                                                self.mapMarker.setLatLng(clickLatLng);
                                            } else {
                                                self.mapMarker = L.marker(clickLatLng).addTo(self.map);
                                            }
                                            var input = document.getElementById('address');
                                            if (input) {
                                                input.value = lat.toFixed(5) + ',' + lng.toFixed(5);
                                            }
                                        });
                                    }
                                    this.map.on('click', (e) => {
                                        var lat = e.latlng.lat;
                                        var lng = e.latlng.lng;
                                        if (this.mapMarker) {
                                            this.mapMarker.setLatLng(e.latlng);
                                        } else {
                                            this.mapMarker = L.marker(e.latlng).addTo(this.map);
                                        }
                                        var input = document.getElementById('address');
                                        if (input) {
                                            input.value = lat.toFixed(5) + ',' + lng.toFixed(5);
                                        }
                                    });
                                }
                                setTimeout(() => {
                                    this.map.invalidateSize();
                                }, 200);
                            });
                        }
                    });
                    this.$nextTick(() => lucide.createIcons());
                }
            }
        }
    </script>
</body>
</html>
